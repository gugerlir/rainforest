<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Usage &mdash; Rainforest QPE library  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=b3ba4146"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Reference" href="reference/index.html" />
    <link rel="prev" title="Rainforest documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Rainforest QPE library
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#access-library">Access library</a></li>
<li class="toctree-l2"><a class="reference internal" href="#keeping-database-up-to-date">Keeping database up-to-date</a></li>
<li class="toctree-l2"><a class="reference internal" href="#keeping-randomforest-model-up-to-date">Keeping randomForest model up-to-date</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="reference/index.html">Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="reference/interface.html">Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/qpe.html">QPE submodule</a><ul>
<li class="toctree-l3"><a class="reference internal" href="reference/qpe_cmd.html">QPE command-line tools</a><ul>
<li class="toctree-l4"><a class="reference internal" href="reference/qpe_cmd.html#qpe-compute"><em>qpe_compute</em></a></li>
<li class="toctree-l4"><a class="reference internal" href="reference/qpe_cmd.html#qpe-plot"><em>qpe_plot</em></a></li>
<li class="toctree-l4"><a class="reference internal" href="reference/qpe_cmd.html#qpe-evaluation"><em>qpe_evaluation</em></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="reference/rainforest.qpe.html">rainforest.qpe package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="reference/rainforest.qpe.html#rainforest-qpe-evaluation-module">rainforest.qpe.evaluation module</a></li>
<li class="toctree-l4"><a class="reference internal" href="reference/rainforest.qpe.html#rainforest-qpe-qpe-module">rainforest.qpe.qpe module</a></li>
<li class="toctree-l4"><a class="reference internal" href="reference/rainforest.qpe.html#rainforest-qpe-qpe-compute-module">rainforest.qpe.qpe_compute module</a></li>
<li class="toctree-l4"><a class="reference internal" href="reference/rainforest.qpe.html#rainforest-qpe-qpe-evaluation-module">rainforest.qpe.qpe_evaluation module</a></li>
<li class="toctree-l4"><a class="reference internal" href="reference/rainforest.qpe.html#rainforest-qpe-qpe-plot-module">rainforest.qpe.qpe_plot module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="reference/db.html">Database submodule</a><ul>
<li class="toctree-l3"><a class="reference internal" href="reference/db_structure.html">Database structure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="reference/db_structure.html#gauge-table"><em>Gauge table</em></a></li>
<li class="toctree-l4"><a class="reference internal" href="reference/db_structure.html#reference-table"><em>Reference table</em></a></li>
<li class="toctree-l4"><a class="reference internal" href="reference/db_structure.html#radar-table"><em>Radar table</em></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="reference/db_options.html">Database configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/db_cmd.html">Database command-line tool</a><ul>
<li class="toctree-l4"><a class="reference internal" href="reference/db_cmd.html#db-populate"><em>db_populate</em></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="reference/rainforest.database.html">rainforest.database package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="reference/rainforest.database.html#rainforest-database-database-module">rainforest.database.database module</a></li>
<li class="toctree-l4"><a class="reference internal" href="reference/rainforest.database.html#rainforest-database-db-populate-module">rainforest.database.db_populate module</a></li>
<li class="toctree-l4"><a class="reference internal" href="reference/rainforest.database.html#rainforest-database-retrieve-radar-data-module">rainforest.database.retrieve_radar_data module</a></li>
<li class="toctree-l4"><a class="reference internal" href="reference/rainforest.database.html#rainforest-database-retrieve-reference-data-module">rainforest.database.retrieve_reference_data module</a></li>
<li class="toctree-l4"><a class="reference internal" href="reference/rainforest.database.html#rainforest-database-retrieve-dwh-data-r-module">rainforest.database.retrieve_dwh_data R module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="reference/ml.html">ML submodule</a><ul>
<li class="toctree-l3"><a class="reference internal" href="reference/ml_cmd.html">Machine-learning command-line tool</a><ul>
<li class="toctree-l4"><a class="reference internal" href="reference/ml_cmd.html#rf-train"><em>rf_train</em></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="reference/rainforest.ml.html">rainforest.ml package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="reference/rainforest.ml.html#rainforest-ml-rf-module">rainforest.ml.rf module</a></li>
<li class="toctree-l4"><a class="reference internal" href="reference/rainforest.ml.html#rainforest-ml-rf-train-module">rainforest.ml.rf_train module</a></li>
<li class="toctree-l4"><a class="reference internal" href="reference/rainforest.ml.html#rainforest-ml-rfdefinitions-module">rainforest.ml.rfdefinitions module</a></li>
<li class="toctree-l4"><a class="reference internal" href="reference/rainforest.ml.html#rainforest-ml-utils-module">rainforest.ml.utils module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="reference/common.html">Common submodule</a><ul>
<li class="toctree-l3"><a class="reference internal" href="reference/common.html#rainforest-common-io-data-module">rainforest.common.io_data module</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/common.html#rainforest-common-retrieve-data-module">rainforest.common.retrieve_data module</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/common.html#rainforest-common-radarprocessing-module">rainforest.common.radarprocessing module</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/common.html#rainforest-common-constants-module">rainforest.common.constants module</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/common.html#rainforest-common-graphics-module">rainforest.common.graphics module</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/common.html#rainforest-common-lookup-module">rainforest.common.lookup module</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/common.html#rainforest-common-utils-module">rainforest.common.utils module</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/common.html#rainforest-common-wgs84-ch1903-module">rainforest.common.wgs84_ch1903 module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Rainforest QPE library</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Usage</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/usage.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="usage">
<span id="id1"></span><h1>Usage<a class="headerlink" href="#usage" title="Permalink to this heading"></a></h1>
<section id="access-library">
<h2>Access library<a class="headerlink" href="#access-library" title="Permalink to this heading"></a></h2>
<p>On Kesch simply add the following line to your ~/.bashrc file</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">export PATH=&quot;/store/msrad/utils/anaconda3-wolfensb/bin:$PATH&quot;</span>
</pre></div>
</div>
<p>Reload the session and then simply run the command</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">source activate radardb</span>
</pre></div>
</div>
<p>Which will load the appropriate anaconda <em>virtualenv</em>, you can then directly use the command line tools (<a class="reference internal" href="reference/interface.html#interface"><span class="std std-ref">Interface</span></a>, <a class="reference internal" href="reference/db_cmd.html"><span class="doc">Database command-line tool</span></a>, <a class="reference internal" href="reference/ml_cmd.html"><span class="doc">Machine-learning command-line tool</span></a>, <a class="reference internal" href="reference/qpe_cmd.html"><span class="doc">QPE command-line tools</span></a>)  in the standard console and/or import the library within python with</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">rainforest</span>
</pre></div>
</div>
<p>Note that on Kesch the radar database is stored in <em>/store/msrad/radar/radar_database/</em></p>
</section>
<section id="keeping-database-up-to-date">
<h2>Keeping database up-to-date<a class="headerlink" href="#keeping-database-up-to-date" title="Permalink to this heading"></a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the following, we expect that you are on Kesch you want to update the database but keep its current structure (same variables, same table names, same configuration). If you want something more fancy please read the doc carefully and decide by yourself.</p>
</div>
<p>To keep the database up-to-date you need to update the three tables <em>gauge</em>, <em>radar</em> and <em>reference</em>, always starting with the first one <em>gauge</em> as it is a prerequisite for the others. You can do this either by using the command-line  <a class="reference internal" href="reference/interface.html#interface"><span class="std std-ref">Interface</span></a> or by using the command <a class="reference internal" href="reference/db_cmd.html"><span class="doc">db_populate</span></a>.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">db_populate -t gauge -s &lt;start time in YYYYddmmHHMM format&gt; -  &lt;end time in YYYYddmmHHMM format&gt;</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">db_populate -t reference</span>
<span class="go">db_populate -t radar</span>
</pre></div>
</div>
</section>
<section id="keeping-randomforest-model-up-to-date">
<h2>Keeping randomForest model up-to-date<a class="headerlink" href="#keeping-randomforest-model-up-to-date" title="Permalink to this heading"></a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the following, we expect that you are on Kesch and want to update only the <em>dual_pol</em> RF model in its default configuration and covering the whole timerange of the database. If you want something more fancy please read the doc carefully and decide by yourself.</p>
</div>
<p>Once you have updated the database you can use the command <a class="reference internal" href="reference/ml_cmd.html"><span class="doc">rf_compute</span></a>.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">rf_train -m &#39;dualpol_default&#39;</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Rainforest documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="reference/index.html" class="btn btn-neutral float-right" title="Reference" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Daniel Wolfensherger, Rebecca Gugerli.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>